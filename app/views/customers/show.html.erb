<div class="container">
    <div class="gmap">
      <div id='map'>
      </div>
    </div>
    <div>
      <div>
        <div class="p-5 m-5 shadow">
          <div>
            <h3>お客様情報</h3>
          </div>
          <table>
            <tr>
              <th>氏名</th>
              <td><%= @customer.name %></td>
            </tr>
            <tr>
              <th>住所</th>
              <td><%= @customer.address %></td>
            </tr>
            <tr>
              <th>電話番号</th>
              <td><%= @customer.number %></td>
            </tr>
            <tr>
              <th>主権者</th>
              <td><% if @customer.right == true %>
              ○
                  <% else @customer.right == false %>

                  <% end %></td>
            </tr>
            <tr>
              <th>資産背景</th>
              <td><%= @customer.assets %></td>
            </tr>
            <tr>
              <th>メモ</th>
              <td><%= @customer.memo %></td>
            </tr>
          </table>
          <%= link_to "編集", edit_customer_path %>
          <%= link_to "削除", method: :delete, data: { confirm: "本当に削除しますか？" } %>
        </div>
      </div>
    </div>
</div>

<style>
  #map {
    height: 400px;
  }
</style>

<script>
  let map;

  function initMap() {
    // geocoderを初期化
    geocoder = new google.maps.Geocoder()

    map = new google.maps.Map(document.getElementById('map'), {
      // コントローラーで定義した変数から緯度経度を呼び出し、マップの中心に表示
      center: {
        lat: gon.customer.latitude,
        lng: gon.customer.longitude
      },
      // マップの倍率はお好みで
      zoom: 17,
    });

    marker = new google.maps.Marker({
      // コントローラーで定義した変数から緯度経度を呼び出し、マーカーを立てる
      position: {
        lat: gon.customer.latitude,
        lng: gon.customer.longitude
      },
      map: map
    });
  }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap" async defer></script>
